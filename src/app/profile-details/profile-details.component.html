<app-applicant-nav [activeNav] = "'profileDetails'" [profileDetailsError]="!!state.hasError"></app-applicant-nav>

<div class="tab-body-con">
  <div class="modify-sn" *ngIf="!!state.dataLoaded && !!state.lookupLoaded">
    <div class="detailed-quotation liquid">
      <div class="error-box"
        *ngIf="!!state.hasError"
      >
        <div class="errors" *ngFor="let item of spouse.error">{{item.msg}}</div>
      </div>
      <!-- /.error-box -->
      <form class="form-modify">
        <div class="expandable-sn">
                  <header>
                    <h3><a class="toggle-handle arrow"></a> <span>Personal Data</span></h3>
                  </header>
                  <div class="wrapper-expcon">
                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>First Name</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="firstName" [(ngModel)]="spouse.firstName" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Middle Name</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="middleName" [(ngModel)]="spouse.middleName" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Father's Name</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="fathersName" [(ngModel)]="spouse.fathersName" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Mother's Name</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="mothersName" [(ngModel)]="spouse.mothersName" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- /.con-sn -->
                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>Is last name 2 only last name?</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.yesNo"
                              [placeholder]= "''"
                              [(val)] = "spouse.isLastName2"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6 [class.has-alert]="!!state.hasError"><span>Birth Date</span></h6>
                          <div class="val">
                            <input type="text" class="input-ctrl datepicker"  name="dirthDate" [(ngModel)]="spouse.dirthDate" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>TAX ID</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="taxId" [(ngModel)]="spouse.taxId" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Country of Birth</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.birthCountry"
                              [placeholder]= "''"
                              [(val)] = "spouse.birthCountry"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- /.con-sn -->
                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>State of birth</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.birthState"
                              [placeholder]= "''"
                              [(val)] = "spouse.birthState"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Sub Customer Type</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.subCustomer"
                              [placeholder]= "''"
                              [(val)] = "spouse.subCustomer"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Nationality</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.nationality"
                              [placeholder]= "''"
                              [(val)] = "spouse.nationality"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Nationality details</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="nationalityDetails" [(ngModel)]="spouse.nationalityDetails" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- /.con-sn -->
                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>E-Mail</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="email" [(ngModel)]="spouse.email" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Gender</h6>
                          <div class="val">
                          <div class="new-old spaced-t">
                            <a class="new-el radio-ctrl grayed" 
                            [class.checked]="spouse.gender==='Male'"
                            (click) = "spouse.gender='Male'"
                            >Male</a>
                            <a class="new-el radio-ctrl grayed" 
                            [class.checked]="spouse.gender==='Female'"
                            (click) = "spouse.gender='Female'"
                            >Female</a>
                          </div>
                          <!-- /.new-old -->
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6 [class.has-alert]="!!state.hasError"><span>Number or Dependants <span class="required">*</span></span></h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="noOfDependants" [(ngModel)]="spouse.noOfDependants" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>ID Number</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="idNumber" [(ngModel)]="spouse.idNumber" />
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- /.con-sn -->
                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>Marital Status</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.maritalStatus"
                              [placeholder]= "''"
                              [(val)] = "spouse.maritalStatus"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Spouse is other applicant type</h6>
                          <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.isSpouseOtherApplicant"
                              [placeholder]= "''"
                              [(val)] = "spouse.isSpouseOtherApplicant"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <h6>Spouse contribute incomes for the loan</h6>
                          <div class="val">
                            <a class="chk-ctrl flipped" 
                            [class.checked]="spouse.isSppuseContributes==='No'"
                            (click) = "spouse.isSppuseContributes=spouse.isSppuseContributes==='No'?'Yes':'No'"
                            >No</a>
                          </div>
                        </div>
                      </div>
                      <div class="col"> </div>
                    </div>
                    <!-- /.con-sn -->

                    <div class="con-sn">
                      <div class="col">
                        <div class="gr">
                          <h6>Foreign ID</h6>
                          <div class="val">
                            <input type="text" class="input-ctrl"  name="foreignId" [(ngModel)]="spouse.foreignId" />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <div class="inner">
                            <h6>Customer Identifier </h6>
                            <div class="val">
                            <app-select [childClass]="'select-ctrl'"
                              [isOpen]="false"
                              [list]="lookup.customerIndetifier"
                              [placeholder]= "''"
                              [(val)] = "spouse.customerIndetifier"
                              [default] = "''"
                              [prefix] = "''"
                            ></app-select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <div class="gr">
                          <div class="inner">
                            <h6>SubProgram Identifier</h6>
                            <div class="val">
                              <app-select [childClass]="'select-ctrl'"
                                [isOpen]="false"
                                [list]="lookup.subProgramIdentifier"
                                [placeholder]= "''"
                                [(val)] = "spouse.subProgramIdentifier"
                                [default] = "''"
                                [prefix] = "''"
                              ></app-select>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col"></div>
                    </div>
                    <!-- /.con-sn -->
                  </div>
                  <!-- /.wrapper-expcon -->
        </div>
        <!-- /.expandable-sn -->
        <div class="expandable-sn spacing-t">
          <header>
            <h3><a class="toggle-handle arrow"></a> <span>Spouse Data</span></h3>
          </header>
          <div class="wrapper-expcon">
            <div class="con-sn">
              <div class="col">
                <div class="gr">
                  <h6>First Name</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="firstName" [(ngModel)]="profile.firstName" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Middle Name</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="middleName" [(ngModel)]="profile.middleName" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Father's Name</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="fathersName" [(ngModel)]="profile.fathersName" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Mother's Name</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="mothersName" [(ngModel)]="profile.mothersName" />
                  </div>
                </div>
              </div>
            </div>
            <!-- /.con-sn -->
            <div class="con-sn">
              <div class="col">
                <div class="gr">
                  <h6>Is last name 2 only last name?</h6>
                  <div class="val">
                    <app-select [childClass]="'select-ctrl'"
                      [isOpen]="false"
                      [list]="lookup.yesNo"
                      [placeholder]= "''"
                      [(val)] = "profile.isLastName2"
                      [default] = "''"
                      [prefix] = "''"
                    ></app-select>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6><span>Birth Date</span></h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="dirthDate" [(ngModel)]="profile.dirthDate" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>TAX ID</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="taxId" [(ngModel)]="profile.taxId" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Country of Birth</h6>
                  <div class="val">
                    <app-select [childClass]="'select-ctrl'"
                      [isOpen]="false"
                      [list]="lookup.birthCountry"
                      [placeholder]= "''"
                      [(val)] = "profile.birthCountry"
                      [default] = "''"
                      [prefix] = "''"
                    ></app-select>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.con-sn -->
            <div class="con-sn">
              <div class="col">
                <div class="gr">
                  <h6>State of birth</h6>
                  <div class="val">
                    <app-select [childClass]="'select-ctrl'"
                      [isOpen]="false"
                      [list]="lookup.birthState"
                      [placeholder]= "''"
                      [(val)] = "profile.birthState"
                      [default] = "''"
                      [prefix] = "''"
                    ></app-select>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Sub Customer Type</h6>
                  <div class="val">
                    <app-select [childClass]="'select-ctrl'"
                      [isOpen]="false"
                      [list]="lookup.subCustomer"
                      [placeholder]= "''"
                      [(val)] = "profile.subCustomer"
                      [default] = "''"
                      [prefix] = "''"
                    ></app-select>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Nationality</h6>
                  <div class="val">
                    <app-select [childClass]="'select-ctrl'"
                      [isOpen]="false"
                      [list]="lookup.nationality"
                      [placeholder]= "''"
                      [(val)] = "profile.nationality"
                      [default] = "''"
                      [prefix] = "''"
                    ></app-select>
                  </div>
                </div>
              </div>
              <div class="col"></div>
            </div>
            <!-- /.con-sn -->
            <div class="con-sn">
              <div class="col">
                <div class="gr">
                  <h6>E-Mail</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="email" [(ngModel)]="profile.email" />
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>Gender</h6>
                  <div class="val">
                  <div class="new-old spaced-t">
                    <a class="new-el radio-ctrl grayed" 
                    [class.checked]="profile.gender==='Male'"
                    (click) = "profile.gender='Male'"
                    >Male</a>
                    <a class="new-el radio-ctrl grayed" 
                    [class.checked]="profile.gender==='Female'"
                    (click) = "profile.gender='Female'"
                    >Female</a>
                  </div>
                  <!-- /.new-old -->
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="gr">
                  <h6>ID Number</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="idNumber" [(ngModel)]="profile.idNumber" />
                  </div>
                </div>
              </div>
              <div class="col strick-r">
                <div class="gr">
                  <h6>Serial number of Advanced Electronic Signature</h6>
                  <div class="val">
                    <input type="text" class="input-ctrl"  name="idNumber" [(ngModel)]="profile.snoElectronicSignature" />
                  </div>
                </div>
              </div>
            </div>
            <!-- /.con-sn -->
            <div class="con-sn">
              <div class="col">
                <div class="gr">
                  <h6>Spouse is beneficiary</h6>
                  <div class="val">
                    <a class="chk-ctrl flipped" 
                    [class.checked]="spouse.isSpouseOtheBeneficiary==='Yes'"
                    (click) = "spouse.isSpouseOtheBeneficiary=spouse.isSpouseOtheBeneficiary==='No'?'Yes':'No'"
                    >No</a>
                  </div>
                </div>
              </div>
              <div class="col"> </div>
              <div class="col"> </div>
              <div class="col"> </div>
            </div>
            <!-- /.con-sn -->

          </div>
          <!-- /.wrapper-expcon -->
        </div>
        <!-- /.expandable-sn -->
      </form>
      <!-- /.form-modify -->
    </div>
    <!-- /.detailed-quotation -->
    <div class="actions footer-actions spacing-b">
      <div class="grouped-btns lt">
      <a class="btn prev" routerLink="../general" >Previous <i></i></a>
      <a class="btn next" routerLink="../addressDetails" >Next <i></i></a>
      </div>
      <div class="grouped-btns rt">
        <a class="btn btn-secondary" (click)="saveUpdates()">Save updates</a>
        <a class="btn btn-secondary off-readonly" (click)="showWarningModal(true)">Edit / Cancel</a>
        <a class="btn btn-secondary on-readonly" routerLink="/quotationApplicant/general">Edit / Cancel</a>
        <a class="btn btn-secondary">Copy</a>
        <a class="btn btn-secondary"  (click)="showSubmitModal(true)">Submit</a>
        <a class="btn btn-secondary disabled">Print Contract</a>
      </div>
      <!-- /.grouped-btns -->
    </div>
  </div>
  <!-- /.create-sn -->
</div>
<!-- /.tab-body-con -->

<div class="modal"
  *ngIf="!!state.isWranModal">
  <div class="modal-con modal-alert modal-warning">
  <div class="msg">
    <div class="msgtext">Warning!</div>

    <div class="info">This application has not been saved yet. Are you sure want to cancel this updates?</div>
  </div>
  <div class="action">
    <a class="btn btn-warn " (click)="showWarningModal(false)">Cancel</a>
    <a class="btn btn-warn btn-secondary" routerLink="../history">OK, Leave this</a>
  </div>
  </div>
  <!-- /.modal-con modal-alert -->
</div>


<div class="modal"
  *ngIf="!!state.isSubmitModal">
  <div class="modal-con modal-alert modal-pre-approval">

 <div class="msg">
 <figure class="fig"><i class="success"></i></figure>
 <h2>Application Submitted</h2>
 <div class="text">Successfully submit this application!!</div>
 </div>

    
   
    <div class="actions centered">
      <a class="btn btn-secondary" (click)="showSubmitModal(false)" >OK</a>
    </div>
    <!-- /.actions -->
  </div>
  <!-- /.modal-con modal-alert -->
</div>
<!-- /.submitModal -->
